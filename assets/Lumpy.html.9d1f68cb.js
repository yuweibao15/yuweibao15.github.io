import{_ as t}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as p,c as r,b as a,d as o,f as n,e as s,r as l}from"./app.fb7fdb01.js";const i={},c=n(`<p><code>LUMPY</code> is a probabilistic framework for structural variant discovery.</p><h2 id="installation" tabindex="-1"><a class="header-anchor" href="#installation" aria-hidden="true">#</a> Installation</h2><p>Here, we are using <code>LUMPY (v0.2.12)</code>.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">wget</span> https://github.com/arq5x/lumpy-sv/releases/download/0.2.13/lumpy-sv-v0.2.13.tar.gz
<span class="token function">tar</span> <span class="token parameter variable">-xvzf</span> lumpy-sv-v0.2.13.tar.gz
<span class="token builtin class-name">cd</span> lumpy-sv-v0.2.13/
<span class="token function">make</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Test</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>PATH_TO/lumpy-sv-v0.2.13/bin/lumpy <span class="token parameter variable">--help</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="usage" tabindex="-1"><a class="header-anchor" href="#usage" aria-hidden="true">#</a> Usage</h2><h3 id="part-i-pre-processing" tabindex="-1"><a class="header-anchor" href="#part-i-pre-processing" aria-hidden="true">#</a> Part I Pre-processing</h3><ol><li>Align the data using <code>BWA-MEM</code></li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>bwa mem <span class="token parameter variable">-R</span> <span class="token string">&quot;@RG<span class="token entity" title="\\t">\\t</span>ID:id<span class="token entity" title="\\t">\\t</span>SM:sample<span class="token entity" title="\\t">\\t</span>LB:lib&quot;</span> human_g1k_v37.fasta sample.1.fq sample.2.fq <span class="token punctuation">\\</span>
    <span class="token operator">|</span> samblaster <span class="token parameter variable">--excludeDups</span> <span class="token parameter variable">--addMateTags</span> <span class="token parameter variable">--maxSplitCount</span> <span class="token number">2</span> <span class="token parameter variable">--minNonOverlap</span> <span class="token number">20</span> <span class="token punctuation">\\</span>
    <span class="token operator">|</span> samtools view <span class="token parameter variable">-S</span> <span class="token parameter variable">-b</span> - <span class="token punctuation">\\</span>
    <span class="token operator">&gt;</span> sample.bam
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>Extract the discordant paired-end alignments</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>samtools view <span class="token parameter variable">-b</span> <span class="token parameter variable">-F</span> <span class="token number">1294</span> sample.bam <span class="token operator">&gt;</span> sample.discordants.unsorted.bam
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">What is 1294?</p><p><code>-F 1294</code> means that the output will not include any read-pairs that have a mapped mate or any supplementary alignments. This can be useful for filtering out reads that are likely to be low-quality or misaligned, and for focusing on reads that are more likely to be informative for downstream analysis.</p></div><ol start="3"><li>Extract the split-read alignments</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>samtools view <span class="token parameter variable">-h</span> sample.bam <span class="token punctuation">\\</span>
    <span class="token operator">|</span> scripts/extractSplitReads_BwaMem <span class="token parameter variable">-i</span> stdin <span class="token punctuation">\\</span>
    <span class="token operator">|</span> samtools view <span class="token parameter variable">-Sb</span> - <span class="token punctuation">\\</span>
    <span class="token operator">&gt;</span> sample.splitters.unsorted.bam
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,15),d=s("where the script is from "),u=a("code",null,"LUMPY",-1),m=s(),v={href:"https://github.com/arq5x/lumpy-sv/blob/master/scripts/extractSplitReads_BwaMem",target:"_blank",rel:"noopener noreferrer"},k=s("github"),b=n(`<div class="custom-container warning"><p class="custom-container-title">Executable</p><p>Remember to make <code>extractSplitReads_BwaMem</code> executable by</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">chmod</span> +x scripts/extractSplitReads_BwaMem
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></div><ol start="4"><li>Sort both alignments</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>samtools <span class="token function">sort</span> sample.discordants.unsorted.bam sample.discordants
samtools <span class="token function">sort</span> sample.splitters.unsorted.bam sample.splitters
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">Parameters</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">-</span>h<span class="token punctuation">,</span> <span class="token operator">--</span><span class="token keyword">with</span><span class="token operator">-</span>header          Include header <span class="token keyword">in</span> <span class="token constant">SAM</span> output
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></div><h3 id="part-ii-running-lumpy-traditional" tabindex="-1"><a class="header-anchor" href="#part-ii-running-lumpy-traditional" aria-hidden="true">#</a> Part II Running LUMPY (traditional)</h3><h4 id="_1-generate-empirical-insert-size-statistics-on-each-library-in-the-bam-file" tabindex="-1"><a class="header-anchor" href="#_1-generate-empirical-insert-size-statistics-on-each-library-in-the-bam-file" aria-hidden="true">#</a> 1. Generate empirical insert size statistics on each library in the BAM file</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>samtools view <span class="token parameter variable">-r</span> readgroup1 sample.bam <span class="token punctuation">\\</span>
    <span class="token operator">|</span> <span class="token function">tail</span> -n+100000 <span class="token punctuation">\\</span>
    <span class="token operator">|</span> scripts/pairend_distro.py <span class="token punctuation">\\</span>
    <span class="token parameter variable">-r</span> <span class="token number">101</span> <span class="token punctuation">\\</span>
    <span class="token parameter variable">-X</span> <span class="token number">4</span> <span class="token punctuation">\\</span>
    <span class="token parameter variable">-N</span> <span class="token number">10000</span> <span class="token punctuation">\\</span>
    <span class="token parameter variable">-o</span> sample.lib1.histo
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">Parameters</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">-</span>r<span class="token punctuation">,</span> <span class="token operator">--</span>read<span class="token operator">-</span>group <span class="token constant">STR</span>       <span class="token operator">...</span>are <span class="token keyword">in</span> read group <span class="token constant">STR</span>
<span class="token operator">-</span><span class="token constant">X</span><span class="token punctuation">,</span> <span class="token operator">--</span>customized<span class="token operator">-</span>index     Expect extra index file argument after <span class="token operator">&lt;</span><span class="token keyword">in</span><span class="token punctuation">.</span>bam<span class="token operator">&gt;</span>
<span class="token operator">-</span><span class="token constant">N</span><span class="token punctuation">,</span> <span class="token operator">--</span>qname<span class="token operator">-</span>file <span class="token constant">FILE</span>      <span class="token operator">...</span>whose read name is listed <span class="token keyword">in</span> <span class="token constant">FILE</span>
<span class="token operator">-</span>o<span class="token punctuation">,</span> <span class="token operator">--</span>output <span class="token constant">FILE</span>          Write output to <span class="token constant">FILE</span> <span class="token punctuation">[</span>standard output<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">Where can you find readgroup? [^gatk_readgroup]</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>samtools view <span class="token parameter variable">-H</span> sample.bam <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">&#39;^@RG&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></div></div><p>Remember to do <code>chmod +x scripts/pairend_distro.py</code></p><h4 id="_2-run-lumpy-with-paired-end-and-split-reads" tabindex="-1"><a class="header-anchor" href="#_2-run-lumpy-with-paired-end-and-split-reads" aria-hidden="true">#</a> 2. Run LUMPY with paired-end and split-reads</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>lumpy <span class="token punctuation">\\</span>
    <span class="token parameter variable">-mw</span> <span class="token number">4</span> <span class="token punctuation">\\</span>
    <span class="token parameter variable">-tt</span> <span class="token number">0</span> <span class="token punctuation">\\</span>
    <span class="token parameter variable">-pe</span> id:sample,bam_file:sample.discordants.bam,histo_file:sample.lib1.histo,mean:500,stdev:50,read_length:101,min_non_overlap:101,discordant_z:5,back_distance:10,weight:1,min_mapping_threshold:20 <span class="token punctuation">\\</span>
    <span class="token parameter variable">-sr</span> id:sample,bam_file:sample.splitters.bam,back_distance:10,weight:1,min_mapping_threshold:20 <span class="token punctuation">\\</span>
    <span class="token operator">&gt;</span> sample.vcf
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">Parameters</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">-</span>mw     minimum weight <span class="token keyword">for</span> a call
<span class="token operator">-</span>tt     trim threshold
<span class="token operator">-</span>pe     bam_file<span class="token operator">:</span><span class="token operator">&lt;</span>file name<span class="token operator">&gt;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">id</span><span class="token operator">:</span><span class="token operator">&lt;</span>sample name<span class="token operator">&gt;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">histo_file</span><span class="token operator">:</span><span class="token operator">&lt;</span>file name<span class="token operator">&gt;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">mean</span><span class="token operator">:</span><span class="token operator">&lt;</span>value<span class="token operator">&gt;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">stdev</span><span class="token operator">:</span><span class="token operator">&lt;</span>value<span class="token operator">&gt;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">read_length</span><span class="token operator">:</span><span class="token operator">&lt;</span>length<span class="token operator">&gt;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">min_non_overlap</span><span class="token operator">:</span><span class="token operator">&lt;</span>length<span class="token operator">&gt;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">discordant_z</span><span class="token operator">:</span><span class="token operator">&lt;</span>z value<span class="token operator">&gt;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">back_distance</span><span class="token operator">:</span><span class="token operator">&lt;</span>distance<span class="token operator">&gt;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">min_mapping_threshold</span><span class="token operator">:</span><span class="token operator">&lt;</span>mapping quality<span class="token operator">&gt;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">weight</span><span class="token operator">:</span><span class="token operator">&lt;</span>sample weight<span class="token operator">&gt;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">read_group</span><span class="token operator">:</span><span class="token operator">&lt;</span>string<span class="token operator">&gt;</span>
<span class="token operator">-</span>sr     bam_file<span class="token operator">:</span><span class="token operator">&lt;</span>file name<span class="token operator">&gt;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">id</span><span class="token operator">:</span><span class="token operator">&lt;</span>sample name<span class="token operator">&gt;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">back_distance</span><span class="token operator">:</span><span class="token operator">&lt;</span>distance<span class="token operator">&gt;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">min_mapping_threshold</span><span class="token operator">:</span><span class="token operator">&lt;</span>mapping quality<span class="token operator">&gt;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">weight</span><span class="token operator">:</span><span class="token operator">&lt;</span>sample weight<span class="token operator">&gt;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">min_clip</span><span class="token operator">:</span><span class="token operator">&lt;</span>minimum clip length<span class="token operator">&gt;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">read_group</span><span class="token operator">:</span><span class="token operator">&lt;</span>string<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div>`,12);function h(g,y){const e=l("ExternalLinkIcon");return p(),r("div",null,[c,a("p",null,[d,u,m,a("a",v,[k,o(e)])]),b])}const x=t(i,[["render",h],["__file","Lumpy.html.vue"]]);export{x as default};
